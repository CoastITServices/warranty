{"tagline":"Script to check warranty status of Macs","google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"### warranty2.sh\r\n\r\nDescription: \r\n\r\n\tLooks up Apple warranty info based on serial number. Uses Apple's https://selfsolve.apple.com/wcResults.do\r\n\r\n\tBased on a script by Scott Russell, IT Support Engineer, \r\n\tUniversity of Notre Dame\r\n\thttp://www.nd.edu/~srussel2/macintosh/bash/warranty.txt\r\n\r\n\tEdited to add the ASD Versions by Joseph Chilcote\r\n\r\n\tRe-written by Rusty Myers for csv processing, plist and csv output.\r\n\t\r\n\tDSProperties output and HW_END_DATE error fix by Nate Walck.\r\n\tEdited 11/03/2011\r\n\r\n\tAdding iOS Device support and specific fields. Adding logic to only show appropriate fields should be done, later...\r\n\r\nKnown Issue:\r\n\r\n\tApple recently updated the URL, reworking the code to accomodate...\t\r\n\r\nUsage:\r\n\r\n\tInput:\r\n\r\n\t\tno flags = use this computers serial\r\n\t\t-b = loop through BULK csv file\r\n\t\t\t* Your BULK file should list each serial on a \r\n\t\t\tnew line and not have any commas.\r\n\t\t\t* Processing a csv file will only output to a \r\n\t\t\tcsv file. other output formats will be ignored\r\n\r\n\t\t-s = specify SERIAL number\r\n\r\n\t\t-h = print help\r\n\r\n\tOutput:\r\n\r\n\t\t-f [csv|plist|DSProperties|spx] = FORMAT output file to csv, plist, spx, or DeployStudio format.\r\n\r\n\t\t-o [/path/to/] = OUTPUT. Don't not include filename. Default is same directory as script.\t\r\n\r\n\t\t-n [warranty.plist|.csv] = Speficiy output file NAME. Ensure you use the appropriate extension for your output.\r\n\t\r\n\t\t-v = Enable sexy verboseness\r\n\t\t\r\n\t\t-k = Enable debugging (Don't delete temp files)\r\n\r\n\tDefaults:\r\n\r\n\t\tWarrantyTempFile=\"/tmp/warranty.DATE.txt\"\r\n\t\tModelTempFile=\"/tmp/model.DATE.txt\"\r\n\t\tAsdCheck=\"/tmp/asdcheck.DATE.txt\"\r\n\t\tOutput=\".\"\r\n\t\tFormat=\"stdout\"\r\n\t\tDEBUGG=\r\n\t\tVERBOSE=\t\r\n\r\nExamples:\r\n\r\n\tDefault Use - Uses machine serial, prints to screen\r\n\t./warranty2.sh\r\n\t\r\n\tSpecify serial, prints to screen\r\n\t./warranty2.sh -s 4H632JhQXZ\r\n\t\r\n\tSpecify output format to Plist and save in specified output\r\n\t./warranty2.sh -f plist -o /Library/Admin/\r\n\t\r\n\tSpecify output format to Plist and save in specified output and a custom name\r\n\t./warranty2.sh -f plist -o ~/Desktop/ -n myserials.plist\r\n\t\r\n\tProcess list of serials and output to custom location and custom name\r\n\t./warranty2.sh -b serials.csv -o ~/Desktop/ -n myserials.csv\r\n\t\r\n\tPrint the output during DeployStudio workflow to enter into custom properties.\r\n\tMore info: http://osxadm.in/?p=64\r\n\t./warranty2.sh -f DSProperties\r\n\r\n\tGenerate a system profile report to open and/or merged with another report.\r\n\t$0 -f spx\r\n\tAfter generating a warranty SPX file, add it to a full system profiler report with these commands:\r\n\t\tA) Generate System Profiler Report\r\n\t\t\t/usr/sbin/system_profiler -xml > firstreport.spx\r\n\t\tB) Merge \"warranty.spx\" file with \"firstreport.spx\"\r\n\t\t\t${PlistBuddy} -c \"Merge warranty.spx\" firstreport.spx\r\n\r\n\r\nTo Do:\r\n\r\n\tPull in the following...\r\n\r\n\tHardware Image:\r\n\tnull({\"PROD_IMAGE_URL:https://km.support.apple.com.edgekey.net/kb/securedImage.jsp?configcode=YA8&size=72x72\r\n\r\n\t\r\nResolved:\r\n\r\n\tP) Sometimes when processing bulk files, the script spits out one of the serial numbers as unkown and then prints tons of ASD numbers. \r\n\tI'm usure why it does this because the serial usually works if run on a new csv or by itself.\r\n\t\r\n\tS) When running the script in twice, the asd and warranty temp files are overwritten by each process.\r\n\tThe fix is to add a unique identifier to the filename. Each loop will have it's own files.\r\n\r\n\tNumber of days since purchase has been added.\r\n\t\tNUM_DAYS_SINCE_DOP:1557\r\n\t\r\n\tNumber of days remaining in coverage has been added.\r\n\t\tDAYS_REM_IN_COV:180\r\n\t\r\n\tIs serial an iPhone has been added\r\n\t\tIS_IPHONE:Y or N\r\n\t\r\n\tiPhone Carrier has been added (not showing anything yet?)\r\n\t\tCARRIER:\r\n\t\r\n\tiPhone Part Description has been added\r\n\t\tPART_DESCR:IPHONE 4 32GB BLACK\r\n\r\nDepreciated (Apple moved the cheese):\r\n\r\n\tSerial is an iPhone\r\n\tIS_IPHONE:N\r\n","name":"Warranty"}